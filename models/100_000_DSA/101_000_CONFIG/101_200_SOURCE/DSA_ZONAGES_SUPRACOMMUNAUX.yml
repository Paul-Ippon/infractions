version: 2

sources:
  - name: DSA_ZONAGES_SUPRACOMMUNAUX
    database: "{{ target.database }}"
    schema: "{{ target.schema }}_DSA"
    loader: S3
    tables:
      - name: ZONAGES_SUPRACOMMUNAUX
        external:
          location: "@{{ target.database }}.{{ target.schema }}_DSA.STAGE_S3_INFRACTIONS"
          file_format: "{{ target.database }}.{{ target.schema }}_DSA.CSV_INFRACTIONS"
          pattern: "infractions/ZONAGES_SUPRACOMMUNAUX.csv"
        columns:
          - name: codgeo
            data_type: varchar(255)
          - name: nom_de_la_commune
            data_type: varchar(255)
          - name: code_departement
            data_type: varchar(255)
          - name: code_region
            data_type: varchar(255)
          - name: code_arrondissement
            data_type: varchar(255)
          - name: code_canton
            data_type: varchar(255)
          - name: code_epci
            data_type: varchar(255)
          - name: nature_epci
            data_type: varchar(255)
          - name: ze2020
            data_type: varchar(255)
          - name: uu2020
            data_type: varchar(255)
          - name: tuu2017
            data_type: varchar(255)
          - name: tduu2017
            data_type: varchar(255)
          - name: uustatut2017
            data_type: varchar(255)
          - name: aav2020
            data_type: varchar(255)
          - name: taav2017
            data_type: varchar(255)
          - name: tdaav2017
            data_type: varchar(255)
          - name: cateaav2020
            data_type: varchar(255)
          - name: bv2012
            data_type: varchar(255)
          - name: typo_degre_densite
            data_type: varchar(255)
